FROM mcr.microsoft.com/dotnet/aspnet:6.0

ARG GRAFANA_LOKI_URI
ARG JAEGER_HOST
ARG JAEGER_PORT
ARG KNOWLEDGESERVICE_SERVICEURI

COPY app /app/

WORKDIR /app

ENV GRAFANA_LOKI_URI "${GRAFANA_LOKI_URI}"
ENV JAEGER__HOST "${JAEGER_HOST}"
ENV JAEGER__PORT "${JAEGER_PORT}"
ENV KNOWLEDGESERVICE__SERVICEURI "${KNOWLEDGESERVICE_SERVICEURI}"

ENTRYPOINT [ "dotnet", "Monitoring.Service.dll" ]
